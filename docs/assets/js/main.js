"use strict";console.log(">> Ready :)");const inputSearch=document.querySelector(".js-input-search"),btnSearch=document.querySelector(".js-btn-search"),CocktailsList=document.querySelector(".js-ul-cocktails"),cocktailsListFav=document.querySelector(".js-list-favorites"),btnRemove=document.querySelector(".js-btn-remove");let cocktails=[],favoritesCocktails=[];function renderCocktailList(){CocktailsList.innerHTML="";for(const e of cocktails)CocktailsList.innerHTML+=renderCocktail(e);addEventToList()}function renderFavoriteList(){let e="";for(const t of favoritesCocktails)e+=`<li class=" js-li-favorite" id=${t.id} >\n            <article class= "card">\n            <h2 class="h2Title">${t.name}</h3>\n            <img class="image" src=${t.image}>\n            </article> \n            </li> `;cocktailsListFav.innerHTML=e,addEventToFavList()}function renderCocktail(e){""===e.image&&(e.image="./assets/images/drink.jpg");let t="";const i=favoritesCocktails.find(t=>e.id===t.id);return console.log(i),t=void 0!==i?"selected":"",`<li class="js-li-cocktail" id=${e.id} >\n        <article class= "card  ${t}" >\n        <h2 class="h2Title">${e.name}</h3>\n        <img class="image" src=${e.image}>\n        </article> \n        </li> `}function renderSaveFavorites(){const e=localStorage.getItem("favCocktails");null!==e&&(favoritesCocktails=JSON.parse(e),renderFavoriteList())}function getCocktails(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(e=>e.json()).then(e=>{cocktails=e.drinks.map(e=>({name:e.strDrink,image:e.strDrinkThumb,id:e.idDrink})),renderCocktailList()})}function handleClickSearch(e){e.preventDefault();const t=inputSearch.value;""===t?getCocktails():fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(e=>e.json()).then(e=>{cocktails=e.drinks.map(e=>({name:e.strDrink,image:e.strDrinkThumb,id:e.idDrink})),console.log(cocktails),renderCocktailList()})}function handleClick(e){const t=e.currentTarget.id,i=cocktails.find(e=>e.id===t),a=favoritesCocktails.findIndex(e=>e.id===t);-1===a?favoritesCocktails.push(i):favoritesCocktails.splice(a,1),SaveLocalStroage(),renderFavoriteList(),renderCocktailList()}function SaveLocalStroage(){localStorage.setItem("favCocktails",JSON.stringify(favoritesCocktails))}function handleClickFav(e){const t=e.currentTarget.id,i=favoritesCocktails.findIndex(e=>e.id===t);-1!==i&&favoritesCocktails.splice(i,1),renderFavoriteList(),SaveLocalStroage(),renderCocktailList()}function handleRemove(e){e.preventDefault(),favoritesCocktails=[],localStorage.removeItem("favCocktails"),renderFavoriteList(),renderCocktailList()}function addEventToList(){const e=document.querySelectorAll(".js-li-cocktail");for(const t of e)t.addEventListener("click",handleClick)}function addEventToFavList(){const e=document.querySelectorAll(".js-li-favorite");for(const t of e)t.addEventListener("click",handleClickFav)}renderSaveFavorites(),getCocktails(),btnSearch.addEventListener("click",handleClickSearch),btnRemove.addEventListener("click",handleRemove);